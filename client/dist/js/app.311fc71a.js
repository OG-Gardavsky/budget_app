(function(t){function e(e){for(var a,s,c=e[0],i=e[1],u=e[2],l=0,m=[];l<c.length;l++)s=c[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=i;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"012d":function(t,e,n){"use strict";n("0d73")},"049e":function(t,e,n){"use strict";n("aa92")},"084a":function(t,e,n){},"0d73":function(t,e,n){},"12b5":function(t,e,n){"use strict";n("f010")},1629:function(t,e,n){"use strict";n("845b")},"21bb":function(t,e,n){"use strict";n("2dad")},"27c1":function(t,e,n){},"2dad":function(t,e,n){},"329e":function(t,e,n){"use strict";n("f9fe")},"36b0":function(t,e,n){},"39e5":function(t,e,n){"use strict";n("c211")},"405f":function(t,e,n){},4799:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("caad"),n("b0c0"),n("d3b7"),n("2b0e")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],c=(n("5c0b"),n("2877")),i={},u=Object(c["a"])(i,o,s,!1,null,null,null),d=u.exports,l=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"mainContent"}},[n("Header"),n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("h1",[t._v("Log in, please.")]),n("LoginPage",{on:{"on-login":t.onLogin}}),n("router-link",{attrs:{to:"passwordResetRequest"}},[n("md-button",{staticStyle:{"margin-top":"10px"}},[t._v("Forgot password?")])],1),n("p",[t._v("Do not have an account?")]),n("router-link",{attrs:{to:"signUp"}},[n("md-button",{staticClass:"md-raised"},[t._v("Sign up")])],1),n("h1",[t._v("Warning")]),t._m(0)],1)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("span",[t._v(" This serves as a demo of open-source project, by Ondřej Gardavský, //link for github. Please do not use it for you confidential data, we guarantee no safety of them. ")])])}],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("form",[n("md-field",[n("label",[t._v("Enter your email")]),n("md-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("md-field",[n("label",[t._v("Enter your password")]),n("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"},on:{click:t.onLogin}},[t._v("Log in")])],1)],1)},h=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:t.onClick}},[t._v(t._s(t.textOfButton))])},g=[],b={name:"customButton",props:{textOfButton:String},methods:{onClick:function(){this.$emit("on-click")}}},y=b,w=(n("dd03"),Object(c["a"])(y,v,g,!1,null,"2f3ce2fc",null)),_=w.exports,A={name:"LoginPage",components:{CustomButton:_},data:function(){return{email:"",password:""}},methods:{onLogin:function(t){if(t.preventDefault(),""===this.email||""===this.password)return this.displayCustomError("fill email and password");var e={email:this.email,password:this.password};this.$emit("on-login",e)}}},x=A,k=(n("12b5"),Object(c["a"])(x,f,h,!1,null,"07fc2551",null)),C=k.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rootDiv"}},[n("div",{staticStyle:{display:"flex","flex-direction":"row",margin:"10px"}},[n("md-icon",{staticStyle:{color:"#fcfcfc"}},[t._v("account_balance_wallet")]),n("h1",[t._v("Budget app")])],1),t.displayProfilePicture()?n("span",[n("md-menu",[n("md-button",{staticClass:"md-icon-button md-raised ",attrs:{"md-menu-trigger":""}},[n("md-icon",[t._v("account_circle")])],1),n("md-menu-content",{attrs:{"md-sync-route":""}},[n("md-menu-item",{attrs:{to:"profile"}},[n("md-icon",[t._v("account_circle")]),n("span",[t._v("Profile")])],1),n("md-menu-item",{on:{click:t.logOut}},[n("md-icon",[t._v("logout")]),n("span",[t._v("Log out")])],1)],1)],1)],1):t._e()])},O=[],D={name:"Header",components:{CustomButton:_},methods:{logOut:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=window.confirm("Are you sure you want to log out?"),e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fetch("api/users/logout",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:n=t.sent,200!==n.status&&401!==n.status||(localStorage.removeItem("userToken"),Qe.push("/"));case 7:case"end":return t.stop()}}),t)})))()}}},I=D,E=(n("7bbf"),Object(c["a"])(I,T,O,!1,null,"423c3e62",null)),S=E.exports,R={name:"login",components:{Header:S,LoginPage:C},data:function(){return{userInfo:{}}},methods:{onLogin:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/users/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:if(a=n.sent,200!==a.status){n.next=12;break}return n.next=6,a.json();case 6:return r=n.sent,localStorage.setItem("userToken",r.token),n.next=10,Qe.push("home");case 10:n.next=13;break;case 12:e.displayCustomError("unable to login");case 13:case"end":return n.stop()}}),n)})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!localStorage.getItem("userToken")){e.next=6;break}return e.next=3,t.getUserInfo();case 3:if(t.userInfo.hasOwnProperty("error")){e.next=6;break}return e.next=6,Qe.push("home");case 6:case"end":return e.stop()}}),e)})))()}},j=R,B=Object(c["a"])(j,m,p,!1,null,null,null),N=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),n("md-card",{attrs:{id:"totalBalanceCard"}},[n("md-content",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Total balance: "),t.totalMoney>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(t.totalMoney)+" "+t._s(t.userInfo.primarCurrency))])])],1)],1),n("md-content",{staticClass:"md-scrollbar",attrs:{id:"accounts"}},[t._l(t.accountsBalance,(function(e){return n("div",{key:e.accountId,on:{click:function(n){t.currentAccount=e,t.currentLimitOfTransactions=t.defaultLimitOfTransactions}}},[n("md-card",{staticClass:"accountCard",style:t.currentAccount._id.toString()===e._id.toString()?"background-color: #448aff; color: white":"",attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[e.balance>0?n("span",[t._v("+")]):t._e(),t._v(" "+t._s(e.balance)+" "+t._s(t.userInfo.primarCurrency))]),e.limit?n("div",[t._v("available: "+t._s(e.availableLimit)+" "+t._s(t.userInfo.primarCurrency))]):t._e(),n("div",{staticClass:"md-subhead"},[t._v(t._s(e.name))])])],1)],1)})),n("div",{on:{click:t.showAddAccount}},[n("md-card",{staticStyle:{height:"140px","margin-right":"5px"},attrs:{"md-with-hover":""}},[n("md-card-content",[n("md-button",{staticClass:"md-button md-primary"},[t._v("add "),n("br"),t._v(" account")])],1)],1)],1),n("add-account",{attrs:{"account-type":"basic","show-add-account-dialog":t.showAddAccountDialog},on:{"on-closeModal":t.closeAddAccount,"on-save":t.refresh}})],2),null!==t.currentAccount?n("div",[n("md-button",{staticClass:"md-icon-button  md-primary",on:{click:t.refresh}},[n("md-icon",[t._v("arrow_back_ios")])],1),n("md-button",{staticClass:"md-button md-primary md-raised",on:{click:t.deleteAccount}},[t._v("delete account")]),n("md-button",{staticClass:"md-button md-primary md-raised",on:{click:function(e){t.showUpdateAccountDialog=!0}}},[t._v("edit account")]),!0===t.showUpdateAccountDialog?n("UpdateAccount",{attrs:{"show-update-account-dialog":t.showUpdateAccountDialog,"account-to-update":t.currentAccount},on:{"on-save":t.refresh,"on-closeModal":function(e){t.showUpdateAccountDialog=!1}}}):t._e()],1):t._e(),n("div",{attrs:{id:"transactions"}},[t._l(t.transactions,(function(e){return n("div",{key:e._id,on:{click:function(n){t.currentTransaction=e}}},[n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title",staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",["basic"===e.type?n("span",[t._v(t._s(t.pairCategoryTransaction(e))+" -")]):t._e(),"transfer"===e.type?n("span",[t._v(t._s(e.type))]):t._e(),t._v(" "+t._s(e.subtype)+" ")]),n("div",[e.amount>0?n("span",[t._v("+")]):t._e(),t._v(" "+t._s(e.amount)+" "+t._s(e.currency))])]),n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{staticClass:"md-subhead"},[t._v(" "+t._s(e.name))]),n("div",{staticClass:"md-subhead"},[t._v(" "+t._s(t.parseDate(e.accountingDate))+" ")])])]),t.currentTransaction===e?n("md-card-actions",[n("md-button",{staticClass:"md-raised",on:{click:function(n){return t.deleteTransaction(e)}}},[t._v("delete")]),n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.showUpdateBasicTransactionDialog=!0}}},[t._v(" edit ")])],1):t._e()],1)],1)})),t.transactions.length%t.defaultLimitOfTransactions===0&&t.transactions.length===t.currentLimitOfTransactions?n("md-button",{staticClass:"md-raised",on:{click:function(e){t.currentLimitOfTransactions+=t.defaultLimitOfTransactions}}},[t._v("Show "+t._s(t.defaultLimitOfTransactions)+" more")]):t._e()],2),!0===t.showUpdateBasicTransactionDialog?n("UpdateOfTransaction",{attrs:{"show-dialog":t.showUpdateBasicTransactionDialog,"transaction-to-update":t.currentTransaction},on:{"on-closeModal":function(e){t.showUpdateBasicTransactionDialog=!1},"on-save":t.refresh}}):t._e(),n("CustomMenu",{attrs:{refresh:t.refresh}})],1)},M=[],P=(n("25f0"),n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("md-dialog",{staticClass:"md-scrollbar",staticStyle:{"padding-bottom":"50px"},attrs:{"md-active":t.showAddTransactionDialog},on:{"update:mdActive":function(e){t.showAddTransactionDialog=e},"update:md-active":function(e){t.showAddTransactionDialog=e}}},[n("md-dialog-title",[t._v("Add transaction")]),n("md-dialog-content",[n("md-tabs",{attrs:{"md-dynamic-height":""}},[n("md-tab",{attrs:{"md-label":"basic"}},[n("md-field",[n("label",[t._v("Income/Expense")]),n("md-select",{attrs:{required:""},model:{value:t.transactionSubtype,callback:function(e){t.transactionSubtype=e},expression:"transactionSubtype"}},[n("md-option",{attrs:{value:"income"}},[t._v("Income")]),n("md-option",{attrs:{value:"expense"}},[t._v("Expense")])],1)],1),n("md-field",[n("label",[t._v("Category")]),n("md-select",{attrs:{required:""},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.listOfCategories,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1),t.listOfCategories.length<1?n("md-button",{on:{click:function(e){t.gotoPage("/categories"),t.showAddTransactionDialog=!1}}},[t._v("Add new")]):t._e()],1),n("md-field",[n("label",[t._v("Account")]),n("md-select",{attrs:{required:""},model:{value:t.accountId,callback:function(e){t.accountId=e},expression:"accountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1),t.listOfBasicAccounts.length<1?n("md-button",{on:{click:function(e){t.gotoPage("/home"),t.showAddTransactionDialog=!1}}},[t._v("Add new")]):t._e()],1),n("md-field",[n("label",[t._v("Enter amount of transaction")]),"expense"===t.transactionSubtype?n("span",[t._v("_ ")]):t._e(),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.createBasicTransaction}},[t._v("Add transaction")])],1)],1),n("md-tab",{attrs:{"md-label":"transfer"}},[n("md-field",[n("label",[t._v("Enter amount of transaction")]),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[n("label",[t._v("From Account:")]),n("md-select",{attrs:{required:""},model:{value:t.givingAccountId,callback:function(e){t.givingAccountId=e},expression:"givingAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("To Account:")]),n("md-select",{attrs:{required:""},model:{value:t.receivingAccountId,callback:function(e){t.receivingAccountId=e},expression:"receivingAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.createTransfer}},[t._v("Add transaction")])],1)],1),n("md-tab",{attrs:{"md-label":"debt"}},[n("md-field",[n("label",[t._v(" Type")]),n("md-select",{attrs:{required:""},model:{value:t.transactionSubtype,callback:function(e){t.transactionSubtype=e},expression:"transactionSubtype"}},[n("md-option",{attrs:{value:"borrow"}},[t._v("I borrow")]),n("md-option",{attrs:{value:"lend"}},[t._v("I lend")])],1)],1),n("md-field",{attrs:{required:""}},[n("label",[t._v("Enter amount of transaction")]),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Basic account")]):t._e(),"borrow"===t.transactionSubtype?n("label",[t._v("Geting money to Account: ")]):t._e(),"lend"===t.transactionSubtype?n("label",[t._v("Lending money from Account: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.basicAccountId,callback:function(e){t.basicAccountId=e},expression:"basicAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Debt account")]):t._e(),"borrow"===t.transactionSubtype?n("label",[t._v("I will owe to: ")]):t._e(),"lend"===t.transactionSubtype?n("label",[t._v("Will owe me: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.debtAccountId,callback:function(e){t.debtAccountId=e},expression:"debtAccountId"}},t._l(t.listOfDebtAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.createDebt}},[t._v("Add transaction")])],1)],1),n("md-tab",{attrs:{"md-label":"invest"}},[n("md-field",[n("label",[t._v(" Type")]),n("md-select",{attrs:{required:""},model:{value:t.transactionSubtype,callback:function(e){t.transactionSubtype=e},expression:"transactionSubtype"}},[n("md-option",{attrs:{value:"deposit"}},[t._v("I invest")]),n("md-option",{attrs:{value:"withdrawal"}},[t._v("I withdraw")])],1)],1),n("md-field",{attrs:{required:""}},[n("label",[t._v("Enter amount of transaction")]),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Basic account")]):t._e(),"deposit"===t.transactionSubtype?n("label",[t._v("Getting money from Account: ")]):t._e(),"withdrawal"===t.transactionSubtype?n("label",[t._v("Putting money to Account: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.basicAccountId,callback:function(e){t.basicAccountId=e},expression:"basicAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Debt account")]):t._e(),"deposit"===t.transactionSubtype?n("label",[t._v("Putting money to Account: ")]):t._e(),"withdrawal"===t.transactionSubtype?n("label",[t._v("Getting money from Account: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.investAccountId,callback:function(e){t.investAccountId=e},expression:"investAccountId"}},t._l(t.listOfInvestAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.createInvest}},[t._v("Add transaction")])],1)],1)],1)],1)],1)],1)}),L=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{staticClass:"md-scrollbar",staticStyle:{"padding-bottom":"50px"},attrs:{"md-active":t.showAddAccountDialog},on:{"update:mdActive":function(e){t.showAddAccountDialog=e},"update:md-active":function(e){t.showAddAccountDialog=e}}},[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("md-dialog-content",[n("md-dialog-title",[t._v("Add Account")]),"basic"===t.accountType?n("md-field",[n("label",[t._v("choose Account type")]),n("md-select",{attrs:{required:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("md-option",{attrs:{value:"debit"}},[t._v("debit")]),n("md-option",{attrs:{value:"credit"}},[t._v("credit")]),n("md-option",{attrs:{value:"cash"}},[t._v("cash")])],1)],1):t._e(),n("md-field",[n("label",[t._v("Enter Name for Account")]),n("md-input",{attrs:{type:"text",placeholder:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("md-field",[n("label",[t._v("Enter initial balance of Account")]),n("md-input",{attrs:{type:"number",placeholder:"Initial Balance",required:""},model:{value:t.initialBalance,callback:function(e){t.initialBalance=e},expression:"initialBalance"}})],1),"credit"===t.type?n("md-field",[n("label",[t._v("Enter limit of your credit account")]),n("md-input",{attrs:{type:"number",placeholder:"Credit limit",required:""},model:{value:t.creditLimit,callback:function(e){t.creditLimit=e},expression:"creditLimit"}})],1):t._e(),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary",on:{click:t.addAccount}},[t._v("add account")])],1)],1)],1)},$=[],z={name:"AddAccount",data:function(){return{type:null,name:null,currency:null,initialBalance:null,creditLimit:null,investMoneyType:null}},props:{showAddAccountDialog:Boolean,accountType:String},methods:{closeDialog:function(){this.$emit("on-closeModal")},clearVariables:function(){this.type=null,this.name=null,this.currency=null,this.initialBalance=null},addAccount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("basic"!==t.accountType&&(t.type=t.accountType),null!==t.type&&null!==t.name){e.next=3;break}return e.abrupt("return",t.displayCustomError("Please fill all fields"));case 3:if("credit"!==t.type||null!==t.creditLimit){e.next=5;break}return e.abrupt("return",t.displayCustomError("Please fill credit limit "));case 5:if(!("credit"===t.type&&t.creditLimit<0)){e.next=7;break}return e.abrupt("return",t.displayCustomError("credit limit nedds to be more than 0."));case 7:if(!("credit"===t.type&&t.initialBalance>0)){e.next=9;break}return e.abrupt("return",t.displayCustomError("initialBalance nedds to be less than 0."));case 9:return n={type:t.type,name:t.name,initialBalance:t.initialBalance},"credit"===t.type&&(n.limit=t.creditLimit),e.next=13,fetch("api/accounts",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify(n)});case 13:return a=e.sent,e.next=16,a.json();case 16:r=e.sent,201===a.status?(t.$emit("on-save"),t.$emit("on-closeModal"),t.clearVariables()):r.error?t.displayCustomError(r.error):t.displayCustomError("Error during saving");case 18:case"end":return e.stop()}}),e)})))()}}},G=z,H=Object(c["a"])(G,q,$,!1,null,"fe2f1db6",null),F=H.exports,J={name:"AddTransaction",components:{AddAccount:F},props:{showAddTransactionDialog:Boolean},data:function(){return{showAddAccount:!1,listOfCategories:[],listOfBasicAccounts:[],listOfDebtAccounts:[],listOfInvestAccounts:[],transactionSubtype:null,transactionName:null,amount:null,accountingDate:null,accountId:null,currency:null,categoryId:null,givingAccountId:null,receivingAccountId:null,basicAccountId:null,debtAccountId:null,investAccountId:null}},methods:{createDebt:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:t.amount,subtype:t.transactionSubtype,basicAccountId:t.basicAccountId,debtAccountId:t.debtAccountId,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),e.next=4,t.createTransaction(n,"debt");case 4:case"end":return e.stop()}}),e)})))()},createInvest:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:t.amount,subtype:t.transactionSubtype,basicAccountId:t.basicAccountId,investAccountId:t.investAccountId,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),e.next=4,t.createTransaction(n,"invests");case 4:case"end":return e.stop()}}),e)})))()},createTransfer:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:t.amount,name:t.transactionName,givingAccountId:t.givingAccountId,receivingAccountId:t.receivingAccountId,accountingDate:t.accountingDate},e.next=3,t.createTransaction(n,"transfer");case 3:case"end":return e.stop()}}),e)})))()},createBasicTransaction:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={subtype:t.transactionSubtype,amount:t.amount,categoryId:t.categoryId,accountId:t.accountId,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),null!==t.currency&&(n.currency=t.currency),e.next=5,t.createTransaction(n,"basic");case 5:case"end":return e.stop()}}),e)})))()},createTransaction:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.accountingDate=n.parseDateBeforeSave(t.accountingDate),a.next=3,fetch("api/transactions/"+e,{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify(t)});case 3:return r=a.sent,a.next=6,r.json();case 6:o=a.sent,201===r.status?(n.$emit("on-save"),n.$emit("on-closeModal"),n.clearVariables()):o.error?n.displayCustomError(o.error):n.displayCustomError("Error during saving");case 8:case"end":return a.stop()}}),a)})))()},clearVariables:function(){this.transactionSubtype=null,this.transactionName=null,this.amount=null,this.currency=null,this.categoryId=null,this.accountId=null,this.givingAccountId=null,this.receivingAccountId=null,this.accountingDate=null},closeDialog:function(){this.clearVariables(),this.$emit("on-closeModal")}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.accountingDate=new Date(Date.now()),e.next=3,t.getListOfSpecificAccounts("basic");case 3:return t.listOfBasicAccounts=e.sent,e.next=6,t.getListOfCategories();case 6:return e.next=8,t.getListOfSpecificAccounts("debt");case 8:return t.listOfDebtAccounts=e.sent,e.next=11,t.getListOfSpecificAccounts("invest");case 11:t.listOfInvestAccounts=e.sent;case 12:case"end":return e.stop()}}),e)})))()}},V=J,Y=Object(c["a"])(V,P,L,!1,null,"77e41df1",null),W=Y.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}})},Q=[],X={name:"loadingSpinner"},Z=X,tt=(n("736c"),Object(c["a"])(Z,K,Q,!1,null,"2bbf77db",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[!0===t.showAddTransactionDialog?n("add-transaction",{attrs:{"show-add-transaction-dialog":t.showAddTransactionDialog},on:{"on-closeModal":t.closeAddTransaction,"on-save":t.refresh}}):t._e(),n("md-bottom-bar",{attrs:{"md-sync-route":""}},[n("md-bottom-bar-item",{attrs:{to:"home",exact:"","md-label":"Home","md-icon":"home"}}),n("md-bottom-bar-item",{attrs:{to:"stats","md-label":"Stasts","md-icon":"bar_chart"}}),n("md-bottom-bar-item",{staticClass:"md-raised md-primary",attrs:{"md-label":"Transaction","md-icon":"add"},on:{click:t.showAddTranscaction}}),n("md-bottom-bar-item",{attrs:{to:"more","md-label":"more","md-icon":"more_horiz"}})],1)],1)},at=[],rt={name:"CustomMenu",components:{AddTransaction:W},props:{refresh:Function},data:function(){return{showAddTransactionDialog:!1}},methods:{showAddTranscaction:function(){this.showAddTransactionDialog=!0},closeAddTransaction:function(){this.showAddTransactionDialog=!1}}},ot=rt,st=(n("39e5"),Object(c["a"])(ot,nt,at,!1,null,"78770c68",null)),ct=st.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("div",{attrs:{id:"dialogContent"}},[n("md-dialog-title",[t._v("Update of transaction: "),t.transactionSubtype?n("span",[t._v(t._s(t.transactionSubtype))]):t._e()]),"basic"===t.transactionType?n("div",[n("md-field",[n("label",[t._v("Transaction Type")]),n("md-select",{attrs:{required:"",value:t.transactionToUpdate.subtype},model:{value:t.transactionSubtype,callback:function(e){t.transactionSubtype=e},expression:"transactionSubtype"}},[n("md-option",{attrs:{value:"income"}},[t._v("Income")]),n("md-option",{attrs:{value:"expense"}},[t._v("Expense")])],1)],1),n("md-field",[n("label",[t._v("Category")]),n("md-select",{attrs:{required:""},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.listOfCategories,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Account")]),n("md-select",{attrs:{required:""},model:{value:t.accountId,callback:function(e){t.accountId=e},expression:"accountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Enter amount of transaction")]),"expense"===t.transactionSubtype?n("span",[t._v("_ ")]):t._e(),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1)],1):t._e(),"transfer"===t.transactionType?n("div",[n("md-field",[n("label",[t._v("Enter amount of transaction")]),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[n("label",[t._v("From Account:")]),n("md-select",{attrs:{required:""},model:{value:t.givingAccountId,callback:function(e){t.givingAccountId=e},expression:"givingAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("To Account:")]),n("md-select",{attrs:{required:""},model:{value:t.receivingAccountId,callback:function(e){t.receivingAccountId=e},expression:"receivingAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1)],1):t._e(),"debt"===t.transactionType?n("div",[n("md-field",[n("label",[t._v("Enter amount of transaction")]),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Basic account")]):t._e(),"borrow"===t.transactionSubtype?n("label",[t._v("Geting money to Account: ")]):t._e(),"lend"===t.transactionSubtype?n("label",[t._v("Lending money from Account: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.basicAccountId,callback:function(e){t.basicAccountId=e},expression:"basicAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Debt account")]):t._e(),"borrow"===t.transactionSubtype?n("label",[t._v("I will owe to: ")]):t._e(),"lend"===t.transactionSubtype?n("label",[t._v("Will owe me: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.debtAccountId,callback:function(e){t.debtAccountId=e},expression:"debtAccountId"}},t._l(t.listOfDebtAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1)],1):t._e(),"invests"===t.transactionType?n("div",[n("md-field",[n("label",[t._v(" Type")]),n("md-select",{attrs:{required:""},model:{value:t.transactionSubtype,callback:function(e){t.transactionSubtype=e},expression:"transactionSubtype"}},[n("md-option",{attrs:{value:"deposit"}},[t._v("I invest")]),n("md-option",{attrs:{value:"withdrawal"}},[t._v("I withdraw")])],1)],1),n("md-field",{attrs:{required:""}},[n("label",[t._v("Enter amount of transaction")]),n("md-input",{attrs:{type:"number",placeholder:"Amount",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Basic account")]):t._e(),"deposit"===t.transactionSubtype?n("label",[t._v("Getting money from Account: ")]):t._e(),"withdrawal"===t.transactionSubtype?n("label",[t._v("Putting money to Account: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.basicAccountId,callback:function(e){t.basicAccountId=e},expression:"basicAccountId"}},t._l(t.listOfBasicAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[null===t.transactionSubtype?n("label",[t._v("Debt account")]):t._e(),"deposit"===t.transactionSubtype?n("label",[t._v("Putting money to Account: ")]):t._e(),"withdrawal"===t.transactionSubtype?n("label",[t._v("Getting money from Account: ")]):t._e(),n("md-select",{attrs:{required:""},model:{value:t.investAccountId,callback:function(e){t.investAccountId=e},expression:"investAccountId"}},t._l(t.listOfInvestAccounts,(function(e){return n("md-option",{attrs:{value:e._id.toString()}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("md-label",[t._v("Accounting date")]),n("md-datepicker",{attrs:{"aria-autocomplete":"none","aria-required":"true"},model:{value:t.accountingDate,callback:function(e){t.accountingDate=e},expression:"accountingDate"}})],1),n("md-field",[n("label",[t._v("Enter name of transaction (optional)")]),n("md-input",{attrs:{type:"text",placeholder:"Name(optional)"},model:{value:t.transactionName,callback:function(e){t.transactionName=e},expression:"transactionName"}})],1)],1):t._e(),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){return t.updateTransactionRouter(t.transactionType)}}},[t._v("update")])],1)],1)],1)},ut=[],dt={name:"UpdateOfTransaction",props:{showDialog:Boolean,refresh:Object,transactionToUpdate:Object},data:function(){return{listOfCategories:[],listOfBasicAccounts:null,listOfDebtAccounts:null,listOfInvestAccounts:null,transactionType:null,transactionId:null,transactionSubtype:null,transactionName:null,accountingDate:null,amount:null,accountId:null,categoryId:null,givingAccountId:null,receivingAccountId:null,transferDetails:null,debtDetails:null,basicAccountId:null,debtAccountId:null,investDetails:null,investAccountId:null}},methods:{closeDialog:function(){this.$emit("on-closeModal")},clearVariables:function(){this.transactionType=null,this.transactionSubtype=null,this.transactionName=null,this.amount=null,this.categoryId=null,this.accountId=null,this.givingAccountId=null,this.receivingAccountId=null,this.transferDetails=null,this.accountingDate=null},updateTransactionRouter:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.transactionType,t.next="basic"===t.t0?3:"transfer"===t.t0?6:"debt"===t.t0?9:"invests"===t.t0?12:15;break;case 3:return t.next=5,e.updateBasicTransaction();case 5:return t.abrupt("break",15);case 6:return t.next=8,e.updateTransfer();case 8:return t.abrupt("break",15);case 9:return t.next=11,e.updateDebt();case 11:return t.abrupt("break",15);case 12:return t.next=14,e.updateinvest();case 14:return t.abrupt("break",15);case 15:case"end":return t.stop()}}),t)})))()},updateinvest:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:t.amount,basicAccountId:t.basicAccountId,investAccountId:t.investAccountId,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),n.accountingDate=t.parseDateBeforeSave(n.accountingDate),e.next=5,t.updateTransaction(n,"invests","sharedId",t.transactionToUpdate.sharedId);case 5:case"end":return e.stop()}}),e)})))()},updateDebt:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:t.amount,basicAccountId:t.basicAccountId,debtAccountId:t.debtAccountId,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),n.accountingDate=t.parseDateBeforeSave(n.accountingDate),e.next=5,t.updateTransaction(n,"debt","sharedId",t.transactionToUpdate.sharedId);case 5:case"end":return e.stop()}}),e)})))()},updateTransfer:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={givingAccountId:t.givingAccountId,receivingAccountId:t.receivingAccountId,amount:t.amount,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),n.accountingDate=t.parseDateBeforeSave(n.accountingDate),e.next=5,t.updateTransaction(n,"transfer","sharedId",t.transactionToUpdate.sharedId);case 5:case"end":return e.stop()}}),e)})))()},updateBasicTransaction:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={subtype:t.transactionSubtype,amount:t.amount,categoryId:t.categoryId,accountId:t.accountId,accountingDate:t.accountingDate},null!==t.transactionName&&(n.name=t.transactionName),n.accountingDate=t.parseDateBeforeSave(n.accountingDate),e.next=5,t.updateTransaction(n,"basic","id",t.transactionId);case 5:case"end":return e.stop()}}),e)})))()},updateTransaction:function(t,e,n,r){var o=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("api/transactions/"+e+"/"+n+":"+r,{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify(t)});case 2:s=a.sent,200===s.status?(o.$emit("on-save"),o.$emit("on-closeModal"),o.clearVariables()):o.displayCustomError("Error during update");case 4:case"end":return a.stop()}}),a)})))()},getTransferInfo:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/transactions/transfer/sharedId:"+t,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(a=n.sent,200===a.status){n.next=5;break}return n.abrupt("return",e.displayCustomError("Error during retrieving transfer data"));case 5:return n.next=7,a.json();case 7:e.transferDetails=n.sent;case 8:case"end":return n.stop()}}),n)})))()},getDebtInfo:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/transactions/debt/sharedId:"+t,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(a=n.sent,200===a.status){n.next=5;break}return n.abrupt("return",e.displayCustomError("Error during retrieving debt data"));case 5:return n.next=7,a.json();case 7:e.debtDetails=n.sent;case 8:case"end":return n.stop()}}),n)})))()},getInvestInfo:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/transactions/invests/sharedId:"+t,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(a=n.sent,200===a.status){n.next=5;break}return n.abrupt("return",e.displayCustomError("Error during retrieving invest data"));case 5:return n.next=7,a.json();case 7:e.investDetails=n.sent;case 8:case"end":return n.stop()}}),n)})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.transactionType=t.transactionToUpdate.type,"basic"!==t.transactionType){e.next=16;break}return e.next=4,t.getListOfSpecificAccounts("basic");case 4:return t.listOfBasicAccounts=e.sent,e.next=7,t.getListOfCategories();case 7:t.transactionId=t.transactionToUpdate._id,t.transactionSubtype=t.transactionToUpdate.subtype,t.transactionSubtype=t.transactionToUpdate.subtype,t.categoryId=t.transactionToUpdate.categoryId,t.accountId=t.transactionToUpdate.accountId,t.amount=Math.abs(t.transactionToUpdate.amount),t.transactionName=t.transactionToUpdate.name,e.next=58;break;case 16:if("transfer"!==t.transactionType){e.next=28;break}return e.next=19,t.getTransferInfo(t.transactionToUpdate.sharedId);case 19:return e.next=21,t.getListOfSpecificAccounts("basic");case 21:t.listOfBasicAccounts=e.sent,t.givingAccountId=t.transferDetails.givingAccountId,t.receivingAccountId=t.transferDetails.receivingAccountId,t.amount=t.transferDetails.amount,t.transactionName=t.transferDetails.name,e.next=58;break;case 28:if("debt"!==t.transactionType){e.next=44;break}return e.next=31,t.getDebtInfo(t.transactionToUpdate.sharedId);case 31:return e.next=33,t.getListOfSpecificAccounts("basic");case 33:return t.listOfBasicAccounts=e.sent,e.next=36,t.getListOfSpecificAccounts("debt");case 36:t.listOfDebtAccounts=e.sent,t.transactionSubtype=t.debtDetails.subtype,t.basicAccountId=t.debtDetails.basicAccountId,t.debtAccountId=t.debtDetails.debtAccountId,t.amount=t.debtDetails.amount,t.transactionName=t.debtDetails.name,e.next=58;break;case 44:if("invests"!==t.transactionType){e.next=58;break}return e.next=47,t.getInvestInfo(t.transactionToUpdate.sharedId);case 47:return e.next=49,t.getListOfSpecificAccounts("basic");case 49:return t.listOfBasicAccounts=e.sent,e.next=52,t.getListOfSpecificAccounts("invest");case 52:t.listOfInvestAccounts=e.sent,t.transactionSubtype=t.investDetails.subtype,t.basicAccountId=t.investDetails.basicAccountId,t.investAccountId=t.investDetails.investAccountId,t.amount=t.investDetails.amount,t.transactionName=t.investDetails.name;case 58:t.accountingDate=new Date(t.transactionToUpdate.accountingDate);case 59:case"end":return e.stop()}}),e)})))()}},lt=dt,mt=Object(c["a"])(lt,it,ut,!1,null,"36f4446d",null),pt=mt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{attrs:{"md-active":t.showUpdateAccountDialog},on:{"update:mdActive":function(e){t.showUpdateAccountDialog=e},"update:md-active":function(e){t.showUpdateAccountDialog=e}}},[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("md-dialog-title",[t._v("Update Account")]),n("md-tabs",{attrs:{"md-dynamic-height":""}},[n("md-tab",[n("md-field",[n("label",[t._v("Enter Name for Account")]),n("md-input",{attrs:{type:"text",placeholder:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("md-field",[n("label",[t._v("Enter initial balance of Account")]),n("md-input",{attrs:{type:"number",placeholder:"Initial Balance",required:""},model:{value:t.initialBalance,callback:function(e){t.initialBalance=e},expression:"initialBalance"}})],1),"credit"===t.type?n("md-field",[n("label",[t._v("Enter limit of your credit account")]),n("md-input",{attrs:{type:"number",placeholder:"Credit limit",required:""},model:{value:t.creditLimit,callback:function(e){t.creditLimit=e},expression:"creditLimit"}})],1):t._e(),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary",on:{click:t.updateAccount}},[t._v("update account")])],1)],1)],1)],1)},ht=[],vt={name:"UpdateAccount",data:function(){return{type:null,name:null,currency:null,initialBalance:null,creditLimit:null,accountId:null}},props:{showUpdateAccountDialog:Boolean,accountToUpdate:Object},methods:{closeDialog:function(){this.$emit("on-closeModal"),this.clearVariables()},clearVariables:function(){this.name=null,this.creditLimit=null,this.initialBalance=null,this.accountId=null},updateAccount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.name&&null!==t.initialBalance&&null!==t.accountId){e.next=2;break}return e.abrupt("return",t.displayCustomError("Please fill all fields"));case 2:if("credit"!==t.type||null!==t.creditLimit){e.next=4;break}return e.abrupt("return",t.displayCustomError("Please fill credit limit "));case 4:if(!("credit"===t.type&&t.creditLimit<0)){e.next=6;break}return e.abrupt("return",t.displayCustomError("credit limit nedds to be more than 0."));case 6:if(!("credit"===t.type&&t.initialBalance>0)){e.next=8;break}return e.abrupt("return",t.displayCustomError("initialBalance nedds to be less than 0."));case 8:return n={name:t.name,initialBalance:t.initialBalance},"credit"===t.type&&(n.limit=t.creditLimit),e.next=12,fetch("api/accounts/id:"+t.accountId,{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify(n)});case 12:return a=e.sent,e.next=15,a.json();case 15:r=e.sent,200===a.status?(t.$emit("on-save"),t.$emit("on-closeModal"),t.clearVariables()):r.error?t.displayCustomError(r.error):t.displayCustomError("Error during update");case 17:case"end":return e.stop()}}),e)})))()}},created:function(){this.accountId=this.accountToUpdate._id,this.name=this.accountToUpdate.name,this.initialBalance=this.accountToUpdate.initialBalance,this.type=this.accountToUpdate.type,"credit"===this.type&&(this.creditLimit=this.accountToUpdate.limit)}},gt=vt,bt=Object(c["a"])(gt,ft,ht,!1,null,"54ba0914",null),yt=bt.exports,wt={name:"Home",components:{UpdateAccount:yt,UpdateOfTransaction:pt,AddAccount:F,CustomMenu:ct,LoadingSpinner:et,AddTransaction:W,CustomButton:_,Header:S},data:function(){return{sortTransactionsBy:"desc",defaultLimitOfTransactions:10,currentLimitOfTransactions:10,totalMoney:null,accountsBalance:[],transactions:[],listOfCategories:[],userInfo:{},showAddAccountDialog:!1,deleteAccountBtn:!1,currentAccount:null,showUpdateBasicTransactionDialog:!1,showUpdateAccountDialog:!1,currentTransaction:null}},watch:{currentLimitOfTransactions:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==this.currentAccount){t.next=5;break}return t.next=3,this.showTransactionsOfAllAccounts();case 3:t.next=7;break;case 5:return t.next=7,this.showTransactionsOfSpecificAccount(this.currentAccount);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),currentAccount:function(){null!==this.currentAccount&&this.showTransactionsOfSpecificAccount(this.currentAccount)}},methods:{showAddAccount:function(){this.showAddAccountDialog=!0},closeAddAccount:function(){this.showAddAccountDialog=!1},showTransactionsOfSpecificAccount:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/accounts/id:"+t._id.toString()+"/transactions?limit="+e.currentLimitOfTransactions+"&sort="+e.sortTransactionsBy,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return a=n.sent,n.next=5,a.json();case 5:e.transactions=n.sent;case 6:case"end":return n.stop()}}),n)})))()},deleteTransaction:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=window.confirm("Are you sure you want to delete transation?"),a){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,fetch("api/transactions/id:"+t._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(r=n.sent,200===r.status){n.next=8;break}return n.abrupt("return",e.displayCustomError("Error during deleting of transaction?"));case 8:return n.next=10,e.refresh();case 10:case"end":return n.stop()}}),n)})))()},deleteAccount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=window.confirm("Are you sure you want to delete account: "+t.currentAccount.name+"? Include all transactions"),n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("api/accounts/id:"+t.currentAccount._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(a=e.sent,200===a.status){e.next=8;break}return e.abrupt("return",t.displayCustomError("Error during deleting of "+t.currentAccount.name));case 8:return e.next=10,t.refresh();case 10:case"end":return e.stop()}}),e)})))()},refresh:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentAccount=null,e.next=3,t.checkCredentials();case 3:if(n=e.sent,0===n){e.next=6;break}return e.abrupt("return");case 6:t.displayFinancialInfo();case 7:case"end":return e.stop()}}),e)})))()},displayFinancialInfo:function(){this.getTotalBalance(),this.getListOfCategories(),this.accountsBalance=this.showBalanceOfAccounts("basic"),this.showTransactionsOfAllAccounts()},getTotalBalance:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTotalBalanceByAccType("all");case 2:t.totalMoney=e.sent;case 3:case"end":return e.stop()}}),e)})))()},showTransactionsOfAllAccounts:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/transactions?type=basic&limit="+t.currentLimitOfTransactions+"&sort="+t.sortTransactionsBy,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=e.sent,e.next=5,n.json();case 5:t.transactions=e.sent;case 6:case"end":return e.stop()}}),e)})))()},getListOfCategories:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/categories",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=e.sent,e.next=5,n.json();case 5:t.listOfCategories=e.sent;case 6:case"end":return e.stop()}}),e)})))()},pairCategoryTransaction:function(t){if(!t.categoryId)return null;var e=this.listOfCategories.find((function(e){return e._id.toString()===t.categoryId.toString()}));return e.name?e.name:null}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkCredentials();case 2:return e.next=4,t.refresh();case 4:case"end":return e.stop()}}),e)})))()}},_t=wt,At=(n("21bb"),Object(c["a"])(_t,U,M,!1,null,null,null)),xt=At.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"mainContent"}},[n("Header"),n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("h1",[t._v("Please register.")]),n("sign-up-page",{on:{"on-signup":t.onSignUp}}),n("p",[t._v("Wanna go back to")]),n("router-link",{attrs:{to:"/"}},[n("md-button",{staticClass:"md-raised"},[t._v("Log In")])],1),n("h1",[t._v("Warning")]),t._m(0)],1)},Ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("span",[t._v(" This serves as a demo of open-source project, by Ondřej Gardavský, //link for github. Please do not use it for you confidential data, we guarantee no safety of them. ")])])}],Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("form",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("md-field",[n("label",[t._v("Enter your email - serves as login")]),n("md-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("md-field",[n("label",[t._v("Enter your(how you want to be called)")]),n("md-input",{attrs:{type:"email",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("md-autocomplete",{attrs:{"md-options":t.listOfCurrencyNames},model:{value:t.currencyName,callback:function(e){t.currencyName=e},expression:"currencyName"}},[n("label",[t._v("Default currency")])]),n("md-field",[n("label",[t._v("Enter your password - minimal 10 characters")]),n("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("md-field",[n("label",[t._v("Reenter you password")]),n("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.passwordCheck,callback:function(e){t.passwordCheck=e},expression:"passwordCheck"}})],1),n("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"},on:{click:t.onSignUp}},[t._v("Sign up")])],1)])},Ot=[],Dt=(n("d81d"),{name:"SignUpPage",data:function(){return{requiredPasswLength:10,email:"",name:"",password:"",passwordCheck:"",currencyName:null,listOfCurrencies:null,listOfCurrencyNames:null}},methods:{onSignUp:function(t){var e=this;if(t.preventDefault(),""===this.email||""===this.password||""===this.name||""===this.passwordCheck||null===this.primarCurrency)return this.displayCustomError("Fill email, name, password, default currency and reenter password.");if(!this.validateEmail(this.email))return this.displayCustomError("Email is not valid");if(this.password.length<this.requiredPasswLength)return this.displayCustomError("Password is too short, is missing "+(this.requiredPasswLength-this.password.length)+" characters.");if(/ /.test(this.password))return this.displayCustomError("Password cannot contain whitespaces.");if(this.passwordCheck!==this.password)return this.displayCustomError("Passwords do not match.");var n=this.listOfCurrencies.find((function(t){return t.currencyName===e.currencyName})).id,a={email:this.email,name:this.name,password:this.password,primarCurrency:n};this.$emit("on-signup",a)},validateEmail:function(t){var e=/\S+@\S+\.\S+/;return e.test(t)}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getListOfCurrencies();case 2:t.listOfCurrencies=e.sent,t.listOfCurrencyNames=t.listOfCurrencies.map((function(t){return t.currencyName}));case 4:case"end":return e.stop()}}),e)})))()}}),It=Dt,Et=(n("d8a9"),Object(c["a"])(It,Tt,Ot,!1,null,"bf35f48a",null)),St=Et.exports,Rt={name:"SignUp",components:{Header:S,SignUpPage:St},methods:{onSignUp:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/users",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:if(a=n.sent,201!==a.status){n.next=11;break}return n.next=6,a.json();case 6:return r=n.sent,localStorage.setItem("userToken",r.token),n.next=10,Qe.push("home");case 10:return n.abrupt("return",n.sent);case 11:return n.prev=11,n.next=14,a.json();case 14:o=n.sent,o.error&&e.displayCustomError(o.error),n.next=21;break;case 18:n.prev=18,n.t0=n["catch"](11),e.displayCustomError("Unexpected Error during registration.");case 21:case"end":return n.stop()}}),n,null,[[11,18]])})))()}}},jt=Rt,Bt=Object(c["a"])(jt,kt,Ct,!1,null,"271e9f16",null),Nt=Bt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.displayDialog}},[t._v("add category")]),n("add-category",{attrs:{"show-dialog":t.showAddDialog},on:{"on-closeModal":t.hideDialog,"on-save":t.getListOfCategories}}),n("div",{attrs:{id:"categories"}},t._l(t.listOfCategories,(function(e){return n("div",{key:e._id},[n("md-card",{staticClass:"categoryCard",attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(e.name))])]),n("md-card-actions",[n("md-button",{staticClass:"md-raised",on:{click:function(n){return t.deleteCategory(e)}}},[t._v("del")]),n("md-button",{staticClass:"md-raised",on:{click:function(n){t.showUpdateDialog=!0,t.currentCategory=e}}},[t._v(" edit ")])],1)],1)],1)})),0),!0===t.showUpdateDialog?n("update-category",{attrs:{"show-dialog":t.showUpdateDialog,"category-to-update":t.currentCategory},on:{"on-closeModal":function(e){t.showUpdateDialog=!1},"on-save":t.getListOfCategories}}):t._e(),n("CustomMenu")],1)},Mt=[],Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("div",{attrs:{id:"dialogContent"}},[n("md-dialog-title",[t._v("Add category")]),n("md-field",[n("label",[t._v("Enter Name for Account")]),n("md-input",{attrs:{type:"text",placeholder:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary",on:{click:t.addCategory}},[t._v("add category")])],1)],1)],1)},Lt=[],qt={name:"AddCategory",data:function(){return{name:null}},props:{showDialog:Boolean},methods:{addCategory:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.name){e.next=2;break}return e.abrupt("return",t.displayCustomError("Please fill name"));case 2:return n={name:t.name},e.next=5,fetch("api/categories",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify(n)});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,201===a.status?(t.$emit("on-save"),t.$emit("on-closeModal"),t.clearVariables()):r.error?t.displayCustomError(r.error):t.displayCustomError("Error during saving");case 10:case"end":return e.stop()}}),e)})))()},closeDialog:function(){this.clearVariables(),this.$emit("on-closeModal")},clearVariables:function(){this.name=null}}},$t=qt,zt=(n("049e"),Object(c["a"])($t,Pt,Lt,!1,null,null,null)),Gt=zt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("md-dialog-content",[n("md-dialog-title",[t._v("Update of category")]),n("md-field",[n("label",[t._v("Enter Name for Account")]),n("md-input",{attrs:{type:"text",placeholder:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v("Close")]),n("md-button",{staticClass:"md-primary",on:{click:t.updateCategory}},[t._v("update category")])],1)],1)],1)},Ft=[],Jt={name:"UpdateCategory",props:{showDialog:Boolean,categoryToUpdate:Object},data:function(){return{name:null,categoryId:null}},methods:{closeDialog:function(){this.$emit("on-closeModal")},clearVariables:function(){this.name=null},updateCategory:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/categories/id:"+t.categoryId,{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify({name:t.name})});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,200===n.status?(t.$emit("on-save"),t.$emit("on-closeModal"),t.clearVariables()):a.error?t.displayCustomError(a.error):t.displayCustomError("Error during saving");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.name=this.categoryToUpdate.name,this.categoryId=this.categoryToUpdate._id}},Vt=Jt,Yt=Object(c["a"])(Vt,Ht,Ft,!1,null,"01e29f31",null),Wt=Yt.exports,Kt={name:"Categories",components:{UpdateCategory:Wt,AddCategory:Gt,CustomMenu:ct,Header:S},data:function(){return{listOfCategories:[],showAddDialog:!1,showUpdateDialog:!1,currentCategory:{}}},methods:{refresh:function(){this.getListOfCategories()},displayDialog:function(){this.showAddDialog=!0},hideDialog:function(){this.showAddDialog=!1},getListOfCategories:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/categories",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=t.sent,t.next=5,n.json();case 5:e.listOfCategories=t.sent;case 6:case"end":return t.stop()}}),t)})))()},deleteCategory:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=window.confirm("Are you sure you want to delete transation with name "+t.name),a){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,fetch("api/categories/id:"+t._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(r=n.sent,200!==r.status){n.next=8;break}return n.abrupt("return",e.refresh());case 8:return n.prev=8,n.next=11,r.json();case 11:o=n.sent,o.error&&e.displayCustomError(o.error),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](8),e.displayCustomError("Error during deleting of "+t.name);case 18:return n.next=20,e.refresh();case 20:case"end":return n.stop()}}),n,null,[[8,15]])})))()}},created:function(){this.checkCredentials(),this.getListOfCategories()}},Qt=Kt,Xt=(n("1629"),Object(c["a"])(Qt,Ut,Mt,!1,null,"47965b9f",null)),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),n("div",{staticStyle:{"padding-bottom":"50px"},attrs:{id:"menuItems"}},[n("router-link",{attrs:{to:"categories"}},[n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Category management")])])],1)],1),n("router-link",{attrs:{to:"invests"}},[n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Investments")])])],1)],1),n("router-link",{attrs:{to:"debts"}},[n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Debts")])])],1)],1)],1),n("custom-menu")],1)},ee=[],ne={name:"More",components:{CustomMenu:ct,Header:S},created:function(){this.checkCredentials()}},ae=ne,re=(n("b3cb"),Object(c["a"])(ae,te,ee,!1,null,"27a538ec",null)),oe=re.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),n("md-empty-state",{attrs:{"md-icon":"cloud_off","md-label":"This site does not exist"}}),n("CustomMenu")],1)},ce=[],ie={name:"BlankPage",components:{CustomMenu:ct,Header:S},created:function(){this.checkCredentials()}},ue=ie,de=Object(c["a"])(ue,se,ce,!1,null,"0429bbf2",null),le=de.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),!1===t.deleteAccountMode?n("div",[n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("name: "+t._s(t.userInfo.name)+" ")]),n("div",{staticClass:"md-title"},[t._v("email: "+t._s(t.userInfo.email)+" ")])])],1),null!==t.listOfCurrencyNames?n("md-card",[n("md-card-header",[n("div",{staticClass:"md-headline"},[t._v("Default currency")]),n("div",{staticClass:"md-subhead"},[t._v("Change will not calculate to new currency, just changes label")]),n("md-autocomplete",{attrs:{"md-options":t.listOfCurrencyNames},model:{value:t.currencyName,callback:function(e){t.currencyName=e},expression:"currencyName"}},[n("label",[t._v("Default currency")])])],1),n("md-card-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.changePrimarCurrency}},[t._v("Change")])],1)],1):t._e(),n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Change password")]),n("div",{staticClass:"md-subhead"},[t._v("After changing password you are logged out from all devices.")]),n("md-field",[n("label",[t._v("Enter current password")]),n("md-input",{attrs:{type:"password",placeholder:"Current password"},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),n("md-field",[n("label",[t._v("Enter new password - min. 10 characters")]),n("md-input",{attrs:{type:"password",placeholder:"New password"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),n("md-field",[n("label",[t._v("Re-Enter new password for check")]),n("md-input",{attrs:{type:"password",placeholder:"Re-Enter New password"},model:{value:t.newPasswordCheck,callback:function(e){t.newPasswordCheck=e},expression:"newPasswordCheck"}})],1)],1),n("md-card-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.changePassword}},[t._v("change password")])],1)],1)],1):t._e(),n("div",{staticStyle:{"padding-bottom":"60px"}},[n("md-card",[n("md-card-content",[n("div",{staticClass:"md-headline"},[t._v("Delete my data")]),n("div",{staticClass:"md-subhead"},[t._v(" This action will delete all your data "),!0===t.deleteAccountMode?n("span",[t._v(", and you cannot restore them after this.")]):t._e(),!0===t.deleteAccountMode?n("span",[t._v("confirm your choice by entering your password")]):t._e()]),!0===t.deleteAccountMode?n("md-field",[n("label",[t._v("Enter current password")]),n("md-input",{attrs:{type:"password",placeholder:"Password confirm"},model:{value:t.passwordConfirmDelete,callback:function(e){t.passwordConfirmDelete=e},expression:"passwordConfirmDelete"}})],1):t._e()],1),n("md-card-actions",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("md-button",{staticClass:"md-primary",on:{click:function(e){t.deleteAccountMode=!t.deleteAccountMode}}},[!1===t.deleteAccountMode?n("span",[t._v("go to delete")]):t._e(),!0===t.deleteAccountMode?n("span",[t._v("back to profile")]):t._e()]),!0===t.deleteAccountMode?n("md-button",{staticClass:"md-raised md-accent",on:{click:t.deleteUser}},[t._v("Delete")]):t._e()],1)],1)],1),n("CustomMenu")],1)},pe=[],fe={name:"Profile",components:{CustomMenu:ct,Header:S},data:function(){return{oldPassword:null,newPassword:null,newPasswordCheck:null,listOfCurrencies:null,listOfCurrencyNames:null,currencyName:null,deleteAccountMode:!1,passwordConfirmDelete:null}},methods:{changePassword:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newPassword===t.newPasswordCheck){e.next=2;break}return e.abrupt("return",t.displayCustomError("New password do not match"));case 2:return e.next=4,fetch("api/users/password",{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify({oldPassword:t.oldPassword,newPassword:t.newPassword})});case 4:return n=e.sent,e.next=7,n.json();case 7:if(a=e.sent,200!==n.status){e.next=15;break}return t.displayCustomError("Password changed succesfully, log in again with new password"),localStorage.removeItem("userToken"),e.next=13,Qe.push("/");case 13:e.next=16;break;case 15:a.error?t.displayCustomError(a.error):t.displayCustomError("Error during changing password");case 16:case"end":return e.stop()}}),e)})))()},changePrimarCurrency:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.currencyName){e.next=2;break}return e.abrupt("return",t.displayCustomError("please fill your Default Currency"));case 2:return n=t.listOfCurrencies.find((function(e){return e.currencyName===t.currencyName})).id,e.next=5,fetch("api/users/currency",{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify({primarCurrency:n})});case 5:return a=e.sent,e.next=8,a.json();case 8:if(r=e.sent,!r.error){e.next=11;break}return e.abrupt("return",t.displayCustomError(r.error));case 11:if(200===a.status){e.next=13;break}return e.abrupt("return",t.displayCustomError("Error during changing primar Currency"));case 13:case"end":return e.stop()}}),e)})))()},deleteUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(![null,""].includes(t.passwordConfirmDelete)){e.next=2;break}return e.abrupt("return",t.displayCustomError("fill password to finish deleting."));case 2:return e.next=4,fetch("api/users/me",{method:"DELETE",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("userToken")},body:JSON.stringify({password:t.passwordConfirmDelete})});case 4:if(n=e.sent,console.log(n),console.log(n.status),200!==n.status){e.next=12;break}return t.displayCustomError("Your account was deleted, goodbye"),e.next=11,Qe.push("/");case 11:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.next=15,n.json();case 15:a=e.sent,a.error&&t.displayCustomError(a.error),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](12),t.displayCustomError("Error during deleting account");case 22:case"end":return e.stop()}}),e,null,[[12,19]])})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkCredentials();case 2:return e.next=4,t.getListOfCurrencies();case 4:t.listOfCurrencies=e.sent,t.listOfCurrencyNames=t.listOfCurrencies.map((function(t){return t.currencyName})),t.currencyName=t.listOfCurrencies.find((function(e){return e.id===t.userInfo.primarCurrency})).currencyName;case 7:case"end":return e.stop()}}),e)})))()}},he=fe,ve=(n("b352"),Object(c["a"])(he,me,pe,!1,null,"9b2a71ba",null)),ge=ve.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),n("h1",[t._v("Stats")]),n("md-card",[n("md-content",[n("md-field",[n("label",[t._v("type")]),n("md-select",{staticStyle:{margin:"10px"},on:{change:t.getStatsByCategory},model:{value:t.transactionType,callback:function(e){t.transactionType=e},expression:"transactionType"}},[n("md-option",{attrs:{value:"income"}},[t._v("income")]),n("md-option",{attrs:{value:"expense"}},[t._v("expense")])],1)],1)],1)],1),n("md-card",[n("md-content",{attrs:{id:"datePicker"}},[n("md-button",{staticClass:"md-icon-button  md-primary",attrs:{"md-menu-trigger":""},on:{click:t.setPreviousMonth}},[n("md-icon",[t._v("arrow_back_ios")])],1),n("div",{staticClass:"md-title"},[t._v(t._s(t.dateData.months[t.currentMonth-1])+" "+t._s(t.currentYear))]),n("md-button",{staticClass:"md-icon-button  md-primary",attrs:{"md-menu-trigger":""},on:{click:t.setNextMonth}},[n("md-icon",[t._v("arrow_forward_ios")])],1)],1)],1),n("md-card",{attrs:{id:"totalSum"}},[n("md-card-content",[null!==t.totalSum?n("div",{staticClass:"md-title"},[t._v("Total "+t._s(t.transactionType)+": "+t._s(t.totalSum)+" "+t._s(t.userInfo.primarCurrency4))]):t._e()])],1),null!==t.doughnutChartData.labels?n("div",{attrs:{id:"chartCard"}},[n("md-card",[n("mdb-doughnut-chart",{attrs:{id:"chart",data:t.doughnutChartData,options:t.doughnutChartOptions}})],1)],1):t._e(),n("CustomMenu",{attrs:{refresh:t.refresh}})],1)},ye=[],we=n("91c9"),_e={name:"Stats",components:{CustomMenu:ct,Header:S,mdbDoughnutChart:we["mdbDoughnutChart"],mdbContainer:we["mdbContainer"]},data:function(){return{transactionType:null,statDataByCategory:null,totalSum:null,doughnutChartData:{labels:null,datasets:[{data:null,backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"],hoverBackgroundColor:["#FF5A5E","#5AD3D1","#FFC870","#A8B3C5","#616774"]}]},doughnutChartOptions:{responsive:!0,maintainAspectRatio:!0},currentMonth:null,currentYear:null,dateData:{months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}},watch:{transactionType:function(){this.refresh()},currentMonth:function(){this.refresh()}},methods:{refresh:function(){this.doughnutChartData.labels=null,this.doughnutChartData.datasets[0].data=null,this.getTotalSum(),this.getStatsByCategory()},setNextMonth:function(){if(12===this.currentMonth)return this.currentMonth=1,this.currentYear+=1;this.currentMonth+=1},setPreviousMonth:function(){if(1===this.currentMonth)return this.currentMonth=12,this.currentYear-=1;this.currentMonth-=1},getStatsByCategory:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/stats/type:"+t.transactionType+"?month="+t.currentMonth+"&year="+t.currentYear,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(n=e.sent,200===n.status){e.next=5;break}return e.abrupt("return",t.displayCustomError("Error during loading statistics"));case 5:if(200===n.status){e.next=7;break}return e.abrupt("return",t.displayCustomError("Error during loading statistics"));case 7:return e.next=9,n.json();case 9:a=e.sent,a.length>0&&(t.doughnutChartData.labels=a.map((function(t){return t.categoryName})),t.doughnutChartData.datasets[0].data=a.map((function(t){return t.sum})));case 11:case"end":return e.stop()}}),e)})))()},getTotalSum:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/stats/total/type:"+t.transactionType+"?month="+t.currentMonth+"&year="+t.currentYear,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(n=e.sent,200===n.status){e.next=5;break}return e.abrupt("return",t.displayCustomError("Error during loading statistics"));case 5:return e.next=7,n.json();case 7:a=e.sent,t.totalSum=0===a.length?0:a[0].sum;case 9:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkCredentials();case 2:t.currentMonth=(new Date).getMonth()+1,t.currentYear=(new Date).getFullYear(),t.transactionType="expense";case 5:case"end":return e.stop()}}),e)})))()}},Ae=_e,xe=(n("e5ae"),Object(c["a"])(Ae,be,ye,!1,null,"0ad3e325",null)),ke=xe.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),null===t.selectedAccount?n("md-card",{attrs:{id:"totalBalanceCard"}},[n("md-content",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Total debts: "),t.totalDebtsSum>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(t.totalDebtsSum)+" "+t._s(t.userInfo.primarCurrency))])])],1)],1):t._e(),t._l(t.accountsBalance,(function(e){return null===t.selectedAccount?n("div",{key:e.accountId,on:{click:function(n){t.selectedAccount=e,t.selectedAccount.balance=e.balance,t.showTransactionsOfSpecificAccount(e)}}},[n("md-card",{staticClass:"debtAccount",attrs:{"md-with-hover":""}},[n("md-content",[n("md-card-header",[n("div",{staticClass:"md-title"},[n("span",[t._v(t._s(e.name))]),n("span",[e.balance>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(e.balance)+" "+t._s(t.userInfo.primarCurrency))])])])],1)],1)],1):t._e()})),n("div",{staticStyle:{"padding-bottom":"60px"}},[null===t.selectedAccount?n("md-card",{staticClass:"debtAccount"},[n("md-content",[n("md-card-header",[n("md-button",{staticClass:"md-button md-raised md-primary",on:{click:function(e){t.showAddAccountDialog=!0}}},[t._v("Add new account")])],1)],1)],1):t._e()],1),n("add-account",{attrs:{"show-add-account-dialog":t.showAddAccountDialog,"account-type":"debt"},on:{"on-closeModal":function(e){t.showAddAccountDialog=!1},"on-save":t.refresh}}),null!==t.selectedAccount?n("div",{attrs:{id:"accountDetails"}},[n("md-card",{attrs:{id:"accountCard"}},[n("md-content",[n("md-button",{staticClass:"md-icon-button  md-primary",on:{click:function(e){t.selectedAccount=null,t.selectedAccountTransactions=null,t.currentLimitOfTransactions=t.defaultLimitOfTransactions}}},[n("md-icon",[t._v("arrow_back_ios")])],1),n("div",{staticClass:"md-title"},[t._v(t._s(t.selectedAccount.name))]),n("div",{staticClass:"md-title"},[t._v(t._s(t.selectedAccount.balance)+" "+t._s(t.userInfo.primarCurrency))])],1)],1),n("md-button",{staticClass:"md-button md-primary md-raised",on:{click:t.deleteAccount}},[t._v("delete account")]),n("md-button",{staticClass:"md-button md-primary md-raised",on:{click:function(e){t.showUpdateAccountDialog=!0}}},[t._v("edit account")]),!0===t.showUpdateAccountDialog?n("UpdateAccount",{attrs:{"show-update-account-dialog":t.showUpdateAccountDialog,"account-to-update":t.selectedAccount},on:{"on-save":t.refresh,"on-closeModal":function(e){t.showUpdateAccountDialog=!1}}}):t._e(),n("div",{staticStyle:{"padding-bottom":"60px"}},[t._l(t.selectedAccountTransactions,(function(e){return n("div",{key:e._id,on:{click:function(n){t.currentTransaction=e}}},[n("md-card",{attrs:{"md-with-hover":""}},[n("md-content",{staticClass:"transactionContent"},[n("div",{staticClass:"baseInfo"},[n("div",{staticClass:"md-title"},[t._v(t._s(e.subtype))]),n("div",{staticClass:"md-title"},[e.amount>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(e.amount)+" ")])]),n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{staticClass:"md-subhead"},[t._v(" "+t._s(e.name))]),n("div",{staticClass:"md-subhead"},[t._v(" "+t._s(t.parseDate(e.accountingDate))+" ")])])]),t.currentTransaction===e?n("md-card-actions",[n("md-button",{staticClass:"md-raised",on:{click:function(n){return t.deleteTransaction(e)}}},[t._v("delete")]),n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.showUpdateOfTransactionDialog=!0}}},[t._v("edit")])],1):t._e()],1)],1)})),null!==t.selectedAccountTransactions&&t.selectedAccountTransactions.length%t.defaultLimitOfTransactions===0&&t.selectedAccountTransactions.length===t.currentLimitOfTransactions?n("md-button",{staticClass:"md-raised",on:{click:function(e){t.currentLimitOfTransactions+=t.defaultLimitOfTransactions}}},[t._v("Show "+t._s(t.defaultLimitOfTransactions)+" more")]):t._e()],2),!0===t.showUpdateOfTransactionDialog?n("UpdateOfTransaction",{attrs:{"show-dialog":t.showUpdateOfTransactionDialog,"transaction-to-update":t.currentTransaction},on:{"on-closeModal":function(e){t.showUpdateOfTransactionDialog=!1},"on-save":t.refresh}}):t._e()],1):t._e(),n("CustomMenu",{attrs:{refresh:t.refresh}})],2)},Te=[],Oe={name:"Debts",components:{AddAccount:F,UpdateOfTransaction:pt,UpdateAccount:yt,CustomMenu:ct,Header:S},data:function(){return{sortTransactionsBy:"desc",defaultLimitOfTransactions:10,currentLimitOfTransactions:10,showAddAccountDialog:!1,showUpdateOfTransactionDialog:!1,currentTransaction:null,showUpdateAccountDialog:!1,accountsBalance:null,totalDebtsSum:null,selectedAccount:null,selectedAccountTransactions:null}},watch:{currentLimitOfTransactions:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.showTransactionsOfSpecificAccount(this.selectedAccount);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},methods:{refresh:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkCredentials();case 2:return t.accountsBalance=t.showBalanceOfAccounts("debt"),e.next=5,t.getTotalBalanceByAccType("debt");case 5:if(t.totalDebtsSum=e.sent,null===t.selectedAccount){e.next=12;break}return e.next=9,t.showTransactionsOfSpecificAccount(t.selectedAccount);case 9:return e.next=11,t.getBalanceForAccount(t.selectedAccount._id);case 11:t.selectedAccount=e.sent;case 12:case"end":return e.stop()}}),e)})))()},showTransactionsOfSpecificAccount:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/accounts/id:"+t._id.toString()+"/transactions?limit="+e.currentLimitOfTransactions+"&sort="+e.sortTransactionsBy,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return a=n.sent,n.next=5,a.json();case 5:e.selectedAccountTransactions=n.sent;case 6:case"end":return n.stop()}}),n)})))()},deleteAccount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=window.confirm("Are you sure you want to delete account: "+t.selectedAccount.name+"? Include all transactions"),n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("api/accounts/id:"+t.selectedAccount._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(a=e.sent,200===a.status){e.next=8;break}return e.abrupt("return",t.displayCustomError("Error during deleting of "+t.selectedAccount.name));case 8:return t.selectedAccount=null,e.next=11,t.refresh();case 11:case"end":return e.stop()}}),e)})))()},deleteTransaction:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=window.confirm("Are you sure you want to delete transation?"),a){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,fetch("api/transactions/id:"+t._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(r=n.sent,200===r.status){n.next=8;break}return n.abrupt("return",e.displayCustomError("Error during deleting of "+t.name));case 8:return n.next=10,e.refresh();case 10:case"end":return n.stop()}}),n)})))()}},created:function(){this.refresh()}},De=Oe,Ie=(n("012d"),Object(c["a"])(De,Ce,Te,!1,null,"6cb3d33a",null)),Ee=Ie.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-alert",{attrs:{"md-active":t.displayError,"md-content":t.errorMessage,"md-confirm-text":"ok"},on:{"update:mdActive":function(e){t.displayError=e},"update:md-active":function(e){t.displayError=e}}}),n("Header"),null===t.selectedAccount?n("md-card",{attrs:{id:"totalBalanceCard"}},[n("md-content",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Totally invested: "),t.totalDebtsSum>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(t.totalDebtsSum)+" "+t._s(t.userInfo.primarCurrency))])])],1)],1):t._e(),t._l(t.accountsBalance,(function(e){return null===t.selectedAccount?n("div",{key:e.accountId,on:{click:function(n){t.selectedAccount=e,t.selectedAccount.balance=e.balance,t.showTransactionsOfSpecificAccount(e)}}},[n("md-card",{staticClass:"debtAccount",attrs:{"md-with-hover":""}},[n("md-content",[n("md-card-header",[n("div",{staticClass:"md-title"},[n("span",[t._v(t._s(e.name))]),n("span",[e.balance>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(e.balance)+" "+t._s(t.userInfo.primarCurrency))])])])],1)],1)],1):t._e()})),n("div",{staticStyle:{"padding-bottom":"60px"}},[null===t.selectedAccount?n("md-card",{staticClass:"debtAccount"},[n("md-content",[n("md-card-header",[n("md-button",{staticClass:"md-button md-raised md-primary",on:{click:function(e){t.showAddAccountDialog=!0}}},[t._v("Add new account")])],1)],1)],1):t._e()],1),n("add-account",{attrs:{"show-add-account-dialog":t.showAddAccountDialog,"account-type":"invest"},on:{"on-closeModal":function(e){t.showAddAccountDialog=!1},"on-save":t.refresh}}),null!==t.selectedAccount?n("div",{attrs:{id:"accountDetails"}},[n("md-card",{attrs:{id:"accountCard"}},[n("md-content",[n("md-button",{staticClass:"md-icon-button  md-primary",on:{click:function(e){t.selectedAccount=null,t.selectedAccountTransactions=null,t.currentLimitOfTransactions=t.defaultLimitOfTransactions}}},[n("md-icon",[t._v("arrow_back_ios")])],1),n("div",{staticClass:"md-title"},[t._v(t._s(t.selectedAccount.name))]),n("div",{staticClass:"md-title"},[t._v(t._s(t.selectedAccount.balance)+" "+t._s(t.userInfo.primarCurrency))])],1)],1),n("md-button",{staticClass:"md-button md-primary md-raised",on:{click:t.deleteAccount}},[t._v("delete account")]),n("md-button",{staticClass:"md-button md-primary md-raised",on:{click:function(e){t.showUpdateAccountDialog=!0}}},[t._v("edit account")]),!0===t.showUpdateAccountDialog?n("UpdateAccount",{attrs:{"show-update-account-dialog":t.showUpdateAccountDialog,"account-to-update":t.selectedAccount},on:{"on-save":t.refresh,"on-closeModal":function(e){t.showUpdateAccountDialog=!1}}}):t._e(),n("div",{staticStyle:{"padding-bottom":"60px"}},[t._l(t.selectedAccountTransactions,(function(e){return n("div",{key:e._id,on:{click:function(n){t.currentTransaction=e}}},[n("md-card",{attrs:{"md-with-hover":""}},[n("md-content",{staticClass:"transactionContent"},[n("div",{staticClass:"baseInfo"},[n("div",{staticClass:"md-title"},[t._v(t._s(e.subtype))]),n("div",{staticClass:"md-title"},[e.amount>0?n("span",[t._v("+ ")]):t._e(),t._v(" "+t._s(e.amount)+" ")])]),n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{staticClass:"md-subhead"},[t._v(" "+t._s(e.name))]),n("div",{staticClass:"md-subhead"},[t._v(" "+t._s(t.parseDate(e.accountingDate))+" ")])])]),t.currentTransaction===e?n("md-card-actions",[n("md-button",{staticClass:"md-raised",on:{click:function(n){return t.deleteTransaction(e)}}},[t._v("delete")]),n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.showUpdateOfTransactionDialog=!0}}},[t._v("edit")])],1):t._e()],1)],1)})),null!==t.selectedAccountTransactions&&t.selectedAccountTransactions.length%t.defaultLimitOfTransactions===0&&t.selectedAccountTransactions.length===t.currentLimitOfTransactions?n("md-button",{staticClass:"md-raised",on:{click:function(e){t.currentLimitOfTransactions+=t.defaultLimitOfTransactions}}},[t._v("Show "+t._s(t.defaultLimitOfTransactions)+" more")]):t._e()],2),!0===t.showUpdateOfTransactionDialog?n("UpdateOfTransaction",{attrs:{"show-dialog":t.showUpdateOfTransactionDialog,"transaction-to-update":t.currentTransaction},on:{"on-closeModal":function(e){t.showUpdateOfTransactionDialog=!1},"on-save":t.refresh}}):t._e()],1):t._e(),n("CustomMenu",{attrs:{refresh:t.refresh}})],2)},Re=[],je={name:"Invests",components:{AddAccount:F,UpdateOfTransaction:pt,UpdateAccount:yt,CustomMenu:ct,Header:S},data:function(){return{sortTransactionsBy:"desc",defaultLimitOfTransactions:10,currentLimitOfTransactions:10,showAddAccountDialog:!1,showUpdateOfTransactionDialog:!1,currentTransaction:null,showUpdateAccountDialog:!1,accountsBalance:null,totalDebtsSum:null,selectedAccount:null,selectedAccountTransactions:null}},watch:{currentLimitOfTransactions:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.showTransactionsOfSpecificAccount(this.selectedAccount);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},methods:{refresh:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.checkCredentials(),t.accountsBalance=t.showBalanceOfAccounts("invest"),e.next=4,t.getTotalBalanceByAccType("invest");case 4:if(t.totalDebtsSum=e.sent,null===t.selectedAccount){e.next=11;break}return e.next=8,t.showTransactionsOfSpecificAccount(t.selectedAccount);case 8:return e.next=10,t.getBalanceForAccount(t.selectedAccount._id);case 10:t.selectedAccount=e.sent;case 11:case"end":return e.stop()}}),e)})))()},showTransactionsOfSpecificAccount:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/accounts/id:"+t._id.toString()+"/transactions?limit="+e.currentLimitOfTransactions+"&sort="+e.sortTransactionsBy,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return a=n.sent,n.next=5,a.json();case 5:e.selectedAccountTransactions=n.sent;case 6:case"end":return n.stop()}}),n)})))()},deleteAccount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=window.confirm("Are you sure you want to delete account: "+t.selectedAccount.name+"? Include all transactions"),n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("api/accounts/id:"+t.selectedAccount._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(a=e.sent,200===a.status){e.next=8;break}return e.abrupt("return",t.displayCustomError("Error during deleting of "+t.selectedAccount.name));case 8:return t.selectedAccount=null,e.next=11,t.refresh();case 11:case"end":return e.stop()}}),e)})))()},deleteTransaction:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=window.confirm("Are you sure you want to delete transation?"),a){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,fetch("api/transactions/id:"+t._id,{method:"Delete",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 5:if(r=n.sent,200===r.status){n.next=8;break}return n.abrupt("return",e.displayCustomError("Error during deleting of "+t.name));case 8:return n.next=10,e.refresh();case 10:case"end":return n.stop()}}),n)})))()}},created:function(){this.refresh()}},Be=je,Ne=(n("fc51"),Object(c["a"])(Be,Se,Re,!1,null,"26b93067",null)),Ue=Ne.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("section",[n("h1",[t._v("Reset your password")]),n("form",[n("md-field",[n("label",[t._v("Enter your email")]),n("md-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"},on:{click:t.onPasswReset}},[t._v("send reset link")])],1),n("p",[t._v("Wanna go back to")]),n("router-link",{attrs:{to:"/"}},[n("md-button",{staticClass:"md-raised"},[t._v("Log In")])],1)],1)],1)},Pe=[],Le={name:"ResetPasswordRequest",components:{Header:S},data:function(){return{email:null}},methods:{onPasswReset:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.email&&""!==t.email){e.next=2;break}return e.abrupt("return",t.displayCustomError("First fill email."));case 2:return e.next=4,fetch("api/users/passwordResetRequest",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:t.email})});case 4:e.sent,t.displayCustomError("Your request was processed. Look into your mailbox");case 6:case"end":return e.stop()}}),e)})))()}}},qe=Le,$e=(n("a3ed"),Object(c["a"])(qe,Me,Pe,!1,null,"069da11e",null)),ze=$e.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("section",[n("h1",[t._v("choose your new password.")]),n("form",[n("md-field",[n("label",[t._v("Enter your password - minimal 10 characters")]),n("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("md-field",[n("label",[t._v("Reenter you password")]),n("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.passwordCheck,callback:function(e){t.passwordCheck=e},expression:"passwordCheck"}})],1),!1===t.disableRessetButton?n("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"},on:{click:t.resetPassword}},[t._v("Reset Password")]):t._e(),!0===t.disableRessetButton?n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:""}},[t._v("Reset Password")]):t._e()],1),n("p",[t._v("Wanna go back to")]),n("router-link",{attrs:{to:"/"}},[n("md-button",{staticClass:"md-raised"},[t._v("Log In")])],1)],1)],1)},He=[],Fe={name:"ResetPassword",components:{Header:S},data:function(){return{requiredPasswLength:10,disableRessetButton:!1,resetToken:null,password:null,passwordCheck:null}},methods:{isResetTokenValid:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/users/isResetTokenValid/token:"+t,{method:"GET",headers:{"Content-type":"application/json"}});case 2:if(a=n.sent,200!==a.status){n.next=5;break}return n.abrupt("return",!0);case 5:return n.prev=5,n.next=8,a.json();case 8:if(r=n.sent,!r.error){n.next=12;break}return e.displayCustomError(r.error),n.abrupt("return",!1);case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n["catch"](5),e.displayCustomError("reset link invalid, ask for new one"),n.abrupt("return",!1);case 18:case"end":return n.stop()}}),n,null,[[5,14]])})))()},resetPassword:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.preventDefault(),![null,""].includes(e.password)&&![null,""].includes(e.passwordCheck)){n.next=3;break}return n.abrupt("return",e.displayCustomError("fill both password and password check"));case 3:if(!(e.password.length<e.requiredPasswLength)){n.next=5;break}return n.abrupt("return",e.displayCustomError("Password is too short, is missing "+(e.requiredPasswLength-e.password.length)+" characters."));case 5:if(e.passwordCheck===e.password){n.next=7;break}return n.abrupt("return",e.displayCustomError("Passwords do not match."));case 7:return n.next=9,fetch("api/users/passwordReset",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:e.resetToken,newPassword:e.password})});case 9:if(a=n.sent,200!==a.status){n.next=18;break}return n.next=13,a.json();case 13:return r=n.sent,localStorage.setItem("userToken",r.token),n.next=17,Qe.push("home");case 17:return n.abrupt("return",n.sent);case 18:return n.prev=18,n.next=21,a.json();case 21:o=n.sent,o.error&&e.displayCustomError(o.error),n.next=28;break;case 25:n.prev=25,n.t0=n["catch"](18),e.displayCustomError("problem during password reset");case 28:case"end":return n.stop()}}),n,null,[[18,25]])})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.token){e.next=9;break}return t.resetToken=t.$route.query.token,e.next=4,t.isResetTokenValid(t.resetToken);case 4:n=e.sent,n||(t.disableRessetButton=!0),e.next=10;break;case 9:t.displayCustomError("reset link invalid, ask for new one");case 10:case"end":return e.stop()}}),e)})))()}},Je=Fe,Ve=(n("329e"),Object(c["a"])(Je,Ge,He,!1,null,"33be1710",null)),Ye=Ve.exports;r["default"].use(l["a"]);var We=[{path:"/",name:"login",component:N},{path:"/signup",name:"signUp",component:Nt},{path:"/passwordResetRequest",name:"passwordResetRequest",component:ze},{path:"/passwordReset",name:"passwordReset",component:Ye},{path:"/home",name:"home",component:xt},{path:"/profile",name:"profile",component:ge},{path:"/categories",name:"categories",component:Zt},{path:"/stats",name:"stats",component:ke},{path:"/debts",name:"debts",component:Ee},{path:"/invests",name:"invests",component:Ue},{path:"/more",name:"more",component:oe},{path:"/*",name:"blank",component:le}],Ke=new l["a"]({routes:We}),Qe=Ke,Xe=n("43f9"),Ze=n.n(Xe);n("51de"),n("e094");r["default"].use(Ze.a),r["default"].config.productionTip=!1,r["default"].mixin({data:function(){return{spinnerDisplayed:!0,userInfo:{},displayError:!1,errorMessage:null}},methods:{displayProfilePicture:function(){return!["login","signUp","passwordResetRequest","passwordReset"].includes(this.$route.name)},parseDateBeforeSave:function(t){var e=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()?e:t},gotoPage:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe.push(t);case 2:case"end":return e.stop()}}),e)})))()},parseDate:function(t){var e=new Date(t);return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()},displayCustomError:function(t){alert(t)},showSpinner:function(){this.spinnerDisplayed=!0},hideSpinner:function(){this.spinnerDisplayed=!1},getUserInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/users",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=e.sent,e.next=5,n.json();case 5:t.userInfo=e.sent;case 6:case"end":return e.stop()}}),e)})))()},checkCredentials:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==localStorage.getItem("userToken")){e.next=3;break}return t.displayCustomError("You are not authenticated, please logged in"),e.abrupt("return",Qe.push("/"));case 3:return e.next=5,t.getUserInfo();case 5:if(!t.userInfo.hasOwnProperty("error")){e.next=9;break}return localStorage.removeItem("userToken"),t.displayCustomError("You are not authenticated, please logged in"),e.abrupt("return",Qe.push("/"));case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e)})))()},getListOfAccounts:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/accounts",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=e.sent,e.next=5,n.json();case 5:t.listOfAccounts=e.sent;case 6:case"end":return e.stop()}}),e)})))()},getListOfSpecificAccounts:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/accounts?type="+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},getListOfCategories:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/categories",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return n=e.sent,e.next=5,n.json();case 5:t.listOfCategories=e.sent;case 6:case"end":return e.stop()}}),e)})))()},showBalanceOfAccounts:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/accounts/balance?type="+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:return a=n.sent,n.next=5,a.json();case 5:e.accountsBalance=n.sent;case 6:case"end":return n.stop()}}),n)})))()},getTotalBalanceByAccType:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/stats/balance?type="+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(a=n.sent,200===a.status){n.next=5;break}return n.abrupt("return",e.displayCustomError("Error during loading statistics"));case 5:return n.next=7,a.json();case 7:return r=n.sent,n.abrupt("return",0===r.length?0:r.sum);case 9:case"end":return n.stop()}}),n)})))()},getBalanceForAccount:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/accounts/id:"+t+"/balance",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}});case 2:if(a=n.sent,200===a.status){n.next=5;break}return n.abrupt("return",e.displayCustomError("Error during loading account balance"));case 5:return n.next=7,a.json();case 7:return r=n.sent,n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))()},getListOfCurrencies:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/currency/list",{method:"GET",headers:{"Content-type":"application/json"}});case 2:if(n=e.sent,200!==n.status){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:t.displayCustomError("unable to connect to list of currency");case 10:case"end":return e.stop()}}),e)})))()}}}),new r["default"]({router:Qe,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"629d":function(t,e,n){},"736c":function(t,e,n){"use strict";n("405f")},"7bbf":function(t,e,n){"use strict";n("f698")},"845b":function(t,e,n){},"90ad":function(t,e,n){},"9c0c":function(t,e,n){},a3ed:function(t,e,n){"use strict";n("629d")},aa92:function(t,e,n){},b352:function(t,e,n){"use strict";n("4799")},b3cb:function(t,e,n){"use strict";n("084a")},c211:function(t,e,n){},ccf2:function(t,e,n){},d8a9:function(t,e,n){"use strict";n("90ad")},dd03:function(t,e,n){"use strict";n("ccf2")},e5ae:function(t,e,n){"use strict";n("27c1")},f010:function(t,e,n){},f698:function(t,e,n){},f9fe:function(t,e,n){},fc51:function(t,e,n){"use strict";n("36b0")}});
//# sourceMappingURL=app.311fc71a.js.map